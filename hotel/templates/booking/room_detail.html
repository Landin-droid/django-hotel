{% extends 'base.html' %}
{% load django_bootstrap5 %}

{% block title %}–ù–æ–º–µ—Ä {{ room.number }} - –ì–æ—Å—Ç–∏–Ω–∏—Ü–∞{% endblock %}

{% block page_title %}–ù–æ–º–µ—Ä {{ room.number }}{% endblock %}

{% block content %}
<div class="row">
  <div class="col-lg-8">
    <div class="card">
      <div class="card-body">
        <div class="mb-3">
          <span class="badge bg-primary fs-6">{{ room.room_type.get_category_display }}</span>
          <span class="badge bg-secondary fs-6">{{ room.room_type.get_capacity_display }}</span>
          {% if room.room_type.has_child_bed %}
          <span class="badge bg-success fs-6">–î–µ—Ç—Å–∫–∞—è –∫—Ä–æ–≤–∞—Ç—å</span>
          {% endif %}
          <span class="badge bg-info fs-6">–≠—Ç–∞–∂: {{ room.floor }}</span>
        </div>

        <p class="lead">{{ room.room_type.description|default:"–ö–æ–º—Ñ–æ—Ä—Ç–∞–±–µ–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –¥–ª—è –≤–∞—à–µ–≥–æ –æ—Ç–¥—ã—Ö–∞." }}</p>

        <h5>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</h5>
        <ul>
          <li>–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: –¥–æ {{ room.room_type.capacity }} —á–µ–ª–æ–≤–µ–∫</li>
          <li>–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {{ room.room_type.get_category_display }}</li>
          {% if room.room_type.has_child_bed %}
          <li>‚úÖ –í–æ–∑–º–æ–∂–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–µ—Ç—Å–∫–æ–π –∫—Ä–æ–≤–∞—Ç–∏</li>
          {% else %}
          <li>‚ùå –î–µ—Ç—Å–∫–∞—è –∫—Ä–æ–≤–∞—Ç—å –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞</li>
          {% endif %}
          <li>–°—Ç–∞—Ç—É—Å: {% if room.is_available %}‚úÖ –î–æ—Å—Ç—É–ø–µ–Ω{% else %}‚ùå –ó–∞–Ω—è—Ç{% endif %}</li>
        </ul>
      </div>
    </div>
  </div>

  <div class="col-lg-4">
    <!-- –§–æ—Ä–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div class="card">
      <div class="card-header">
        <h5 class="card-title mb-0">üìÖ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä</h5>
      </div>
      <div class="card-body">
        {% if user.is_authenticated %}
        <form method="post">
          {% csrf_token %}
          {% bootstrap_form booking_form %}

          <div class="alert alert-info mt-3">
            <small>
              <strong>–í–∞–∂–Ω–æ:</strong> –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
              –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–∑–≤–æ–Ω–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.
            </small>
          </div>

          <div class="d-grid gap-2">
            {% bootstrap_button "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å" button_type="submit" button_class="btn-primary" %}
          </div>
        </form>
        {% else %}
        <div class="text-center">
          <p>–î–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É</p>
          <a href="{% url 'login' %}?next={{ request.path }}" class="btn btn-primary me-2">
            –í–æ–π—Ç–∏
          </a>
          <a href="{% url 'client_register' %}" class="btn btn-outline-primary">
            –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
          </a>
        </div>
        {% endif %}
      </div>
    </div>

    <!-- –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="card mt-4">
      <div class="card-body">
        <h6>üìû –¢–µ–ª–µ—Ñ–æ–Ω –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:</h6>
        <a href="tel:+71234567890" class="btn btn-outline-success w-100 mb-2">
          +7 (123) 456-78-90
        </a>
        <small class="text-muted">
          –ü–æ–∑–≤–æ–Ω–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        </small>
      </div>
    </div>
  </div>
</div>
{% endblock %}