{% extends 'base.html' %}
{% load django_bootstrap5 %}

{% block title %}–ú–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è - –ì–æ—Å—Ç–∏–Ω–∏—Ü–∞{% endblock %}

{% block page_title %}–ú–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è{% endblock %}

{% block content %}
{% if bookings %}
<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>–ù–æ–º–µ—Ä</th>
        <th>–î–∞—Ç—ã</th>
        <th>–°—Ç–∞—Ç—É—Å</th>
        <th>–°—Ç–æ–∏–º–æ—Å—Ç—å</th>
        <th>–î–µ–π—Å—Ç–≤–∏—è</th>
      </tr>
    </thead>
    <tbody>
      {% for booking in bookings %}
      <tr>
        <td>#{{ booking.id }}</td>
        <td>{{ booking.room.number }} ({{ booking.room.room_type }})</td>
        <td>
          {{ booking.check_in_date }} - {{ booking.check_out_date }}<br>
          <small class="text-muted">{{ booking.nights }} –Ω–æ—á–µ–π</small>
        </td>
        <td>
          <span class="booking-status status-{{ booking.status }}">
            {{ booking.get_status_display }}
          </span>
        </td>
        <td>{{ booking.total_price }} ‚ÇΩ</td>
        <td>
          <a href="{% url 'booking_detail' booking.pk %}" class="btn btn-sm btn-outline-primary">
            –ü–æ–¥—Ä–æ–±–Ω–µ–µ
          </a>
          {% if booking.status == 'pending' %}
          <a href="{% url 'booking_cancel' booking.pk %}" class="btn btn-sm btn-outline-danger">
            –û—Ç–º–µ–Ω–∏—Ç—å
          </a>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% else %}
<div class="alert alert-info text-center">
  <h5>üìù –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π</h5>
  <p>–ù–∞—á–Ω–∏—Ç–µ —Å –ø–æ–∏—Å–∫–∞ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –Ω–æ–º–µ—Ä–∞</p>
  <a href="{% url 'room_list' %}" class="btn btn-primary">–ù–∞–π—Ç–∏ –Ω–æ–º–µ—Ä</a>
</div>
{% endif %}
{% endblock %}